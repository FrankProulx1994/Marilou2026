<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Compte √† rebours - B√©b√© Marilou</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: radial-gradient(circle at top, #3b2d4f, #121212 60%);
      color: #fff;
      font-family: "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 20px;
    }

    .container {
      max-width: 1100px;
      width: 100%;
      background: rgba(10, 10, 10, 0.9);
      border-radius: 18px;
      padding: 24px;
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 24px;
    }

    @media (max-width: 900px) {
      .container {
        grid-template-columns: 1fr;
      }
    }

    h1 {
      font-size: 2.1rem;
      margin-bottom: 8px;
      text-align: left;
    }

    h2 {
      font-size: 1.2rem;
      font-weight: 400;
      color: #f1c8ff;
      margin-bottom: 16px;
    }

    .highlight {
      color: #ffb3e1;
      font-weight: 600;
    }

    .countdown-wrapper {
      margin-top: 10px;
      margin-bottom: 18px;
    }

    .countdown-title {
      font-size: 1rem;
      margin-bottom: 8px;
      color: #c9c9c9;
    }

    .countdown {
      display: flex;
      flex-wrap: wrap;
      gap: 14px;
    }

    .time-box {
      background: linear-gradient(145deg, #292933, #181820);
      padding: 14px 16px;
      border-radius: 14px;
      text-align: center;
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.06);
      min-width: 90px;
      flex: 1;
    }

    .time-box-value {
      font-size: 1.9rem;
      font-weight: 700;
      letter-spacing: 1px;
    }

    .label {
      font-size: 0.8rem;
      color: #b3b3b3;
      margin-top: 4px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .info {
      margin-top: 10px;
      font-size: 0.95rem;
      line-height: 1.5;
      color: #d9d9d9;
    }

    .info strong {
      color: #ffd580;
    }

    .week-box {
      margin-top: 18px;
      padding: 12px 14px;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .week-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 10px;
      font-size: 0.95rem;
    }

    .week-number {
      font-size: 1.3rem;
      font-weight: 600;
      color: #ffb3e1;
    }

    .progress-bar-outer {
      width: 100%;
      height: 8px;
      background: #2b2b2b;
      border-radius: 999px;
      overflow: hidden;
      margin-top: 4px;
    }

    .progress-bar-inner {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #ffb3e1, #ffe0b0);
      transition: width 0.8s ease-out;
    }

    .images-column {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .image-card {
      position: relative;
      border-radius: 18px;
      overflow: hidden;
      background: #1a1a1a;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
    }

    .image-card img {
      width: 100%;
      height: 100%;
      display: block;
      object-fit: cover;
    }

    .image-caption {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      padding: 8px 12px;
      font-size: 0.85rem;
      background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
    }

    .footer {
      margin-top: 18px;
      font-size: 0.8rem;
      color: #9c9c9c;
    }

    /* ===== Section f√©licitations ===== */
    .comments-section {
      max-width: 1100px;
      width: 100%;
      margin-top: 24px;
      background: rgba(10, 10, 10, 0.9);
      border-radius: 18px;
      padding: 20px 24px 24px;
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .comments-section h2 {
      margin-bottom: 6px;
    }

    .comments-section p {
      font-size: 0.9rem;
      color: #d0d0d0;
      margin-bottom: 14px;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 18px;
    }

    .form-row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .field {
      flex: 1;
      min-width: 140px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 0.9rem;
    }

    .field label {
      color: #e5e5e5;
    }

    .field input,
    .field textarea {
      border-radius: 10px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(0, 0, 0, 0.5);
      color: #fff;
      padding: 8px 10px;
      font-size: 0.9rem;
      resize: vertical;
    }

    .field input:focus,
    .field textarea:focus {
      outline: none;
      border-color: #ffb3e1;
      box-shadow: 0 0 0 1px rgba(255, 179, 225, 0.6);
    }

    .comment-form button {
      align-self: flex-start;
      padding: 8px 16px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      background: linear-gradient(90deg, #ffb3e1, #ffe0b0);
      color: #30142c;
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.5);
      transition: transform 0.1s ease, box-shadow 0.1s ease;
    }

    .comment-form button:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.7);
    }

    .comment-form button:active {
      transform: translateY(0);
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.6);
    }

    .comments-title {
      font-size: 1rem;
      margin-bottom: 10px;
      color: #f1c8ff;
    }

    #comments-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      font-size: 0.9rem;
    }

    .comment {
      padding: 10px 12px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .comment-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 4px;
      gap: 8px;
    }

    .comment-name {
      font-weight: 600;
      color: #ffb3e1;
    }

    .comment-date {
      font-size: 0.75rem;
      color: #b0b0b0;
    }

    .comment-message {
      color: #e8e8e8;
      line-height: 1.4;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Colonne gauche : texte + compte √† rebours -->
    <div>
      <h1>Compte √† rebours pour l‚Äôarriv√©e de <span class="highlight">Marilou</span></h1>
      <h2>Kariane & Alex agrandissent la famille üíï</h2>

      <div class="countdown-wrapper">
        <div class="countdown-title">
          Date estim√©e utilis√©e pour le compte √† rebours :
          <strong>3 mai 2026</strong>
        </div>
        <div class="countdown">
          <div class="time-box">
            <div id="days" class="time-box-value">0</div>
            <div class="label">Jours</div>
          </div>
          <div class="time-box">
            <div id="hours" class="time-box-value">00</div>
            <div class="label">Heures</div>
          </div>
          <div class="time-box">
            <div id="minutes" class="time-box-value">00</div>
            <div class="label">Minutes</div>
          </div>
          <div class="time-box">
            <div id="seconds" class="time-box-value">00</div>
            <div class="label">Secondes</div>
          </div>
        </div>
      </div>

      <div class="info">
        Fen√™tre d‚Äôarriv√©e pr√©vue de Marilou :
        <strong>entre le 30 avril et le 7 mai 2026</strong>.<br />
        Chaque jour nous rapproche un peu plus de toi, petite princesse.
      </div>

      <div class="week-box">
        <div class="week-header">
          <div>
            Semaine de grossesse actuelle :
            <span id="week-count" class="week-number">17</span>
          </div>
          <div style="font-size:0.85rem;color:#bdbdbd;">
            Mise √† jour tous les dimanches
          </div>
        </div>
        <div class="progress-bar-outer">
          <div id="week-progress" class="progress-bar-inner"></div>
        </div>
        <div style="margin-top:8px;font-size:0.8rem;color:#c4c4c4;">
          Sur une grossesse de 40 semaines (valeur approximative).
        </div>
      </div>

      <div class="footer">
        Cr√©√© avec amour pour Kariane, Alex, Marilou et leurs boules de poils. üêæ
      </div>
    </div>

    <!-- Colonne droite : photos -->
    <div class="images-column">
      <div class="image-card">
        <img src="./1000000334.jpg" alt="Chiens, chat et √©chographie de b√©b√©" />
        <div class="image-caption">
          Les grands fr√®res & s≈ìurs poilus surveillent d√©j√† l‚Äô√©chographie.
        </div>
      </div>
      <div class="image-card">
        <img src="./1000000333.jpg" alt="Kariane et Alex heureux en tenant la bedaine" />
        <div class="image-caption">
          Kariane, Alex et le plus beau des sourires en attendant Marilou.
        </div>
      </div>
    </div>
  </div>

  <!-- Section f√©licitations -->
  <div class="comments-section">
    <h2>Donner mes f√©licitations üéâ</h2>
    <p>Laisse un petit mot pour Kariane, Alex et la petite Marilou qui s‚Äôen vient.</p>

    <form id="felicitation-form" class="comment-form">
      <div class="form-row">
        <div class="field">
          <label for="prenom">Pr√©nom</label>
          <input type="text" id="prenom" name="prenom" placeholder="Pr√©nom" required />
        </div>
        <div class="field">
          <label for="nom">Nom</label>
          <input type="text" id="nom" name="nom" placeholder="Nom" required />
        </div>
      </div>
      <div class="field">
        <label for="message">Message</label>
        <textarea id="message" name="message" rows="3" placeholder="Ton message de f√©licitations üíå" required></textarea>
      </div>
      <button type="submit">Envoyer mes f√©licitations</button>
    </form>

    <h3 class="comments-title">Messages re√ßus</h3>
    <div id="comments-list"></div>
  </div>

  <script>
    // --------- Compte √† rebours jusqu'√† la date estim√©e ---------
    const dueDate = new Date("2026-05-03T00:00:00"); // date estim√©e au centre de la fen√™tre

    function updateCountdown() {
      const now = new Date();
      const diff = dueDate - now;

      const countdownContainer = document.querySelector(".countdown");

      if (diff <= 0) {
        countdownContainer.innerHTML =
          "<div style='font-size:1.3rem;text-align:center;width:100%;padding:20px;'>Bienvenue au monde, <strong>Marilou</strong>! üéÄ</div>";
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      document.getElementById("days").textContent = days;
      document.getElementById("hours").textContent = hours.toString().padStart(2, "0");
      document.getElementById("minutes").textContent = minutes.toString().padStart(2, "0");
      document.getElementById("seconds").textContent = seconds.toString().padStart(2, "0");
    }

    // --------- Semaine de grossesse (base : 17 semaines) ---------
    // Kariane est √† 17 semaines le 23 novembre 2025 (un dimanche).
    const baseWeeks = 17;
    const baseDate = new Date("2025-11-23T00:00:00"); // dimanche de r√©f√©rence
    const totalPregnancyWeeks = 40;

    function updateWeeks() {
      const now = new Date();
      let weeks = baseWeeks;

      if (now > baseDate) {
        const diffMs = now - baseDate;
        const weeksSinceBase = Math.floor(
          diffMs / (7 * 24 * 60 * 60 * 1000)
        );
        weeks = baseWeeks + weeksSinceBase;
      }

      if (weeks < 0) weeks = 0;

      document.getElementById("week-count").textContent = weeks;

      // Mise √† jour de la barre de progression (max 40 semaines)
      const clampedWeeks = Math.min(weeks, totalPregnancyWeeks);
      const percent = (clampedWeeks / totalPregnancyWeeks) * 100;
      document.getElementById("week-progress").style.width = percent + "%";
    }

    function tick() {
      updateCountdown();
      updateWeeks();
    }

    // Lancer imm√©diatement puis chaque seconde pour le compte √† rebours
    tick();
    setInterval(tick, 1000);

    // --------- Gestion des f√©licitations ---------
    const form = document.getElementById("felicitation-form");
    const commentsListEl = document.getElementById("comments-list");
    const STORAGE_KEY = "felicitations_marilou";
    let comments = [];

    function addCommentToDOM(comment) {
      const div = document.createElement("div");
      div.className = "comment";

      const header = document.createElement("div");
      header.className = "comment-header";

      const nameEl = document.createElement("div");
      nameEl.className = "comment-name";
      nameEl.textContent = comment.prenom + " " + comment.nom;

      const dateEl = document.createElement("div");
      dateEl.className = "comment-date";
      dateEl.textContent = comment.date;

      header.appendChild(nameEl);
      header.appendChild(dateEl);

      const messageEl = document.createElement("div");
      messageEl.className = "comment-message";
      messageEl.textContent = comment.message;

      div.appendChild(header);
      div.appendChild(messageEl);

      // On ajoute le nouveau commentaire en haut de la liste
      commentsListEl.insertBefore(div, commentsListEl.firstChild);
    }

    function loadComments() {
      try {
        const saved = localStorage.getItem(STORAGE_KEY);
        if (!saved) return;
        comments = JSON.parse(saved) || [];
        comments.forEach(addCommentToDOM);
      } catch (e) {
        console.error("Erreur de chargement des commentaires :", e);
      }
    }

    function saveComments() {
      try {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(comments));
      } catch (e) {
        console.error("Erreur de sauvegarde des commentaires :", e);
      }
    }

    form.addEventListener("submit", function (event) {
      event.preventDefault();

      const prenom = document.getElementById("prenom").value.trim();
      const nom = document.getElementById("nom").value.trim();
      const message = document.getElementById("message").value.trim();

      if (!prenom || !nom || !message) {
        return;
      }

      const date = new Date().toLocaleString("fr-CA", {
        dateStyle: "medium",
        timeStyle: "short",
      });

      const comment = { prenom, nom, message, date };
      comments.push(comment);
      saveComments();
      addCommentToDOM(comment);

      form.reset();
    });

    loadComments();
  </script>
</body>
</html>
